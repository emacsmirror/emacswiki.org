[https://tree-sitter.github.io/tree-sitter/ Tree-sitter] offers a way to quickly parse a source code file, providing accurate syntax highlighting, indentation rules, and navigation.

tree-sitter is included in Emacs 29 and later.

== Configuration ==

Tree-sitter offers different features than emacs' native parser. two things are required to activate it:
# Install a Tree-sitter library for the required language.
# A major mode that invokes the Tree-sitter backend.

=== Step 1 ===

Emacs can automatically install a tree-sitter parser with `treesit-install-language-grammar'. If you have a C compiler installed, it will prompt for a language name.

By default, Emacs will look for library files in <code>~/.emacs.d/tree-sitter/</code>. If you compiled the language's DLL manually, copy it to this directory.
=== Step 2 ===

You can use major modes that have `-ts-' in the name, such as `java-ts-mode'. Since there are existing rules for selecting major modes in the variable `auto-mode-alist', Emacs 29 provides the variable `major-mode-remap-alist' to 'redirect' the major modes without having to modify the more complicated `auto-mode-alist' variable. Customise `major-mode-remap-alist' with each entry having as the key the major mode you wish to redirect to Tree-sitter, and the value being the equivalent "...-ts-..." mode. For example `java-mode' would be remapped to `java-ts-mode'.

It is worth consulting `auto-mode-alist' to know exactly which major mode to remap as it is less obvious what some modes are for, such as <code>'c-or-c++-mode'</code>, and bear in mind some packages update this list.

When a major mode powered by Tree-sitter is selected, Emacs will try to load the (native) library for that language, and will give an error if it is not available. In UNIX/Linux this would be a .so file, and in Windows a .dll.

== History ==

Historically, Emacs, like many editors, has used heuristics (often [https://www.emacswiki.org/emacs/RegularExpression/ regular expressions]) for approximating the parse of a language to do syntax highlighting and code navigation in order to do it quickly.

== External Links ==

* [https://tree-sitter.github.io/tree-sitter/#parsers A list of Tree-sitter parsers you can install manually]
* [https://corwin.bru.st/emacs-tree-sitter/ Corwin Brust's archive of Windows compiled libraries]

CategoryProgramming
