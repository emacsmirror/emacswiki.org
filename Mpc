'''Mpc''' is the Emacs frontend to '''MPD''', the Music Player Daemon. It aims to look and feel similar to Rhythmbox.

Mpc first appeared in Emacs 23.2.

== MPD ==

You will need to install `mpd' on your computer and configure it like so:

{{{
# ~/.config/mpd/mpd.conf
# Example for PulseAudio

 bind_to_address "127.0.0.1"
 music_directory "~/music"

 audio_output {  
     type       "pulse"  
     name       "pulse audio"
     device     "pulse" 
     mixer_type "hardware" 
 }  

audio_output {
    type   "fifo"
    name   "my_fifo"
    path   "/tmp/mpd.fifo"
    format "44100:16:2"
}
}}}

Run it with the `mpd' command, then run `M-x mpc' from in Emacs.

== Configuration ==

You can use <code>M-x customize-group <RET> mpc </code> to customize the client. You can change some variables in <code>init.el</code> like so:

{{{
(setq
  mpc-browser-tags '(Artist Album)
  mpc-songs-format "%-5{Time} %25{Title} %20{Album} %20{Artist}")
}}}

##mpc## is *lacking in keybindings* currently, but not in functionality; you may wish to bind keys yourself:

{{{
(add-hook 'mpc-mode-hook
 (lambda ()
   (keymap-local-set "M-p"        'windmove-up)
   (keymap-local-set "M-n"        'windmove-down)
   (keymap-local-set "M-b"        'windmove-left)
   (keymap-local-set "M-f"        'windmove-right)
   (keymap-local-set "C-<return>" 'mpc-play-at-point)
   (keymap-local-set "<SPC>"      'mpc-toggle-play)
   (keymap-local-set "s"          'mpc-toggle-shuffle)
   (keymap-local-set "n"          'next-line)
   (keymap-local-set "p"          'previous-line)
   (keymap-local-set "f"          'mpc-next)
   (keymap-local-set "b"          'mpc-prev)))
}}}

This will bind the following keys:

* ##M-(pnbf)## -- Select window frame.
* ##C-RET## -- Add a song to the playlist
* ##n/p## -- Down / Up
* ##f/b## -- Next / Previous song
* ##SPC## -- Play / Pause

== Usage ==

# Use ##n/p## to find an artist you like.
# Press ##RET## to expand their album list.
# Use ##M-f## to go to the Albums window.
# Press ##C-RET## to play the album

Use ##Space## to play/pause.

== MPD on Windows ==

If you're on Windows like poor old [[muto]], your ##mpd.conf## can be stored anywhere; just run ##mpd mpd.conf## in its directory.

Your config may look something like:

{{{
music_directory     "C:/Users/emily/Music"
log_file            "C:/Users/emily/Music/mpd/mpd.log"
db_file             "C:/Users/emily/Music/mpd/mpd.db"
playlist_directory  "C:/Users/emily/Music/playlists"
bind_to_address     "127.0.0.1"
    
audio_output {
    type   "winmm"
    name   "MyPhones"
}

audio_output {
    type      "httpd"
    name      "My HTTP Stream"
    encoder   "vorbis"
    port      "8000"
    bitrate   "128"
    format    "44100:16:1"
}
}}}

== See Also ==

* MusicPlayer -- Other music players in Emacs.
* [[EMMS]] -- A clean alternative to MPC.

== External Links == 

* [https://www.musicpd.org/ MPD's homepage]
* [[https://github.com/jorenvo/simple-mpc Simple MPC]] -- A clean frontend to MPC

----

MultimediaModes CategoryModes CategoryInterface 
