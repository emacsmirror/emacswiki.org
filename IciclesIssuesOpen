: [[image:iciclesimage]]

|| *Previous:*  IciclesIssues || '''[[Icicles]]''' || IciclesIssuesStale || IciclesIssuesClosed || 

----

== Open Icicles Issues ==

This page is for discussion of open issues you might have with library '''<tt>[[icicles.el]]</tt>''' ('''[[Icicles]]'''), including bugs.

See also:

* IciclesIssuesStale -- Issues that users did not follow up on -- never heard back from them. Could mean that the problem is not a problem; could mean that they gave up ;-).

* IciclesIssuesClosed -- Issues that were resolved. Bugs that were fixed. Explanations of non-bugs. Issues from this page (IciclesIssuesOpen) and IciclesIssuesStale are moved there when they are resolved.

* IciclesDiscussion -- General discussion about the library, feedback, possible uses, and possible enhancements.












=== How To Report an Icicles Issue ===

You can report an '''Icicles''' issue (bug) on this page -- please follow the formatting suggestion provided below ([[#HowToUseThisPage]]).

Alternatively, you can report an '''Icicles''' issue by email, by doing 
one of the following:

* Choose item '''Send Bug Report''' from MenuBar menu '''Icicles'''
* `##M-x icicle-send-bug-report##'
* (1) `C-h' from the minibuffer; (2) click button '''Icicles Options and Faces''' in buffer `*Help*'; (3) click link `##Send Bug Report##' in buffer `##*Customize Group: icicles*##'

Always mention your Emacs version and platform (e.g. Windows, GNU/Linux). If you aren't using the latest '''Icicles''' files, let me know which you are using. '''Icicles''' files each have an <code>Update #</code> field in the header, which identifies the file exactly.

The advantage of reporting a bug here is that others can share in the discussion. The advantage of reporting a bug by email is that I will see it immediately. Sometimes I don't notice a bug report on this page for a while.










=== Debugging Tips ===

1. If you use the debugger to report a backtrace then you should first ensure that you are using the '''Icicles''' ''source'' files (##icicles*.el##) and not their byte-compiled versions (##icicles*.elc##).  If you normally use byte-compiled files (recommended), then either load the source files after the byte-compiled files or do not load the byte-compiled files at all.  To prevent loading the byte-compiled files you can either delete them or temporarily move them out of your `load-path'.

2. By default, in ''Icicle'' mode, some code captures errors that are raised, so that you can continue working.  For example, when you initiate an action command from the minibuffer and it raises an error, the error is suppressed so that you can continue with completion.

For debugging you will often want to turn off this capture of errors.  You can do this by temporarily setting `debug-on-error' to non-`nil'.  This will cause an error that would normally be captured (handled, not raised) to enter the debugger.

Similarly, to enter the debugger on `C-g', even in contexts that would normally handle a `quit' signal specially, set `debug-on-quit' to non-`nil'.











[:HowToUseThisPage]
=== How To Use This Page ===

For readability, please separate each issue thread with `----' (horizontal line), and introduce each entry within a thread with `<code>[new]</code>'. 

Better yet, use this to separate threads (puts space before and after the horizontal line):

 <pre>

 </pre>
 ----
 <pre>

 </pre>






















== (Open) Issues ==


''Enter your report below.''


<pre>
</pre>
----
<pre>
</pre>

[new]

Hi Drew!

I found a bug in the latest icicles(Update #: 5280 in icicles-cmd2.el). When i hit `C-c / ' icicle-complete-thesaurus-entry then i've got a Symbol's function definition is void: icicle-complete-thesaurus-entry error.

I've opened icicles-cmd2.el and eval-ed the defun with `C-M-x' but the error remains.

May i suggest to you that you should free the `C-c / ' bindig. OrgMode uses it heavily, i've discovered the bug in org-mode when i've tried http://orgmode.org/org.html#Sparse-trees 

Regards,
PasJa

[new:DrewAdams:2012-04-03 15:22 UTC]
Hi PasJa.  There are a couple of things to say about this.

1. Thanks for your report.  Should be fixed now.  The error came from the default value of `icicle-top-level-key-bindings', which was unconditionally binding the key instead of binding it only if the command is defined.

2. After the fix, if you do not use <tt>[[synonyms.el]]</tt> then the key will not be bound by default.

3. Even if you do use <tt>[[synonyms.el]]</tt>, it is trivial to prevent the key binding: just customize option `icicle-top-level-key-bindings'.  That's why it is a [[user option]].

4. Wrt '''Icicles''' using (by default) the binding `##C-c /##', and the conflict with OrgMode:

''Icicle'' mode is a minor mode.  IIUC, OrgMode is a major mode.  Per the Elisp manual ([[Manual:Key Binding Conventions]]):

[new]
* Sequences consisting of C-c followed by {, }, <, >, : or ; are also reserved for major modes.
 
* Sequences consisting of ''C-c followed by any other punctuation character are allocated for minor modes''. Using them in a major mode is not absolutely prohibited, but if you do that, the major mode binding may be shadowed from time to time by minor modes. 
[new]

IOW, it is OrgMode, not '''Icicles''', that is not behaving well here.  More precisely, it is not behaving badly, but it must expect that minor modes such as ''Icicle'' mode will overwrite such a key binding.  (Of course, '''Icicles''' only overwrites it by default, and only if you also use library <tt>[[synonyms.el]]</tt>.)

Thx -- DrewAdams














<pre>

</pre>
----
<pre>

</pre>

[new] I'm having a problem that is really frustrating me. I've got a new version of icicles from git. The old version I had when I did M-x cir TAB would instantly complete to circe. Now i have to hit tab multiple times. It's really frustrating me that I can't figure out how to fix this problem. -- DaveKerschner

[new:DrewAdams:2011-12-16 22:31 UTC]
Sorry for your trouble. Please always report your Emacs version etc.  I recommend that you use `M-x icicle-send-bug-report'. Please provide a complete recipe to reproduce your problem, preferably starting with ##emacs -Q##.  When I do `M-x cir TAB' I get no completions - there are no commands with that prefix in my session.  You should not need to hit `TAB' multiple times to complete. If you hit `TAB' multiple times then, after the first, you are cycling among the matches to your current input.  If there is only one match, then `TAB' completes to it immediately.

If you got '''Icicles''' from a git repository somewhere, then I know nothing about what you got.  The latest files are always here, on the wiki. For information about what files you need and how to download them in bulk see [[Icicles - Libraries]]. -- DrewAdams









<pre>

</pre>

----
<pre>

</pre>



[new]
Hi Drew,
a fresh checkout of Icicles stopped working on emacs 24.0.90. Here's the backtrace:

<pre>
Debugger entered--Lisp error:
(invalid-function icicle-define-bookmark-command)
  icicle-define-bookmark-command("non-file")
  byte-code("\300\301!\210\302\301!\...
  require(icicles-cmd1)
  byte-code("\300\301!\210\300\302!\...
  require(icicles)
</pre>

-- 46.165.196.182

[new:DrewAdams:2011-10-18 17:00 UTC]
1. A backtrace from byte-compiled code is useless, I'm afraid.  Always load only the ('''Icicles''') source files (##*.el##, not ##*.elc##) before creating a backtrace to report.

2. Please be sure to download the latest '''Icicles''' files.  If you byte-compile the files (not for debugging, but for use), which I recommend, then please read and follow the note in the header of <tt>[[icicles-mac.el]]</tt> (it is repeated in <tt>[[icicles.el]]</tt> and <tt>[[icicles-chg.el]]</tt>).  Here it is again:

<pre>
;;  ******************
;;  NOTE: Whenever you update Icicles (i.e., download new versions of
;;  Icicles source files), I recommend that you do the following:
;;
;;      1. Delete all existing byte-compiled Icicles files
;;         (icicles*.elc).
;;      2. Load Icicles (`load-library' or `require').
;;      3. Byte-compile the source files.
;;
;;  In particular, always load `icicles-mac.el' (not
;;  `icicles-mac.elc') before you byte-compile new versions of the
;;  files, in case there have been any changes to Lisp macros (in
;;  `icicles-mac.el').
;;  ******************
</pre>

(This is the case for ''all'' use of EmacsLisp macros, BTW.)

3. I do not support Emacs 24 for '''Icicles'''.  Emacs 24 has not yet been released.  I use it myself, and you are welcome to use it with '''Icicles''', but all bets are off wrt support and debugging.  If you are using it, I suggest you download the pretest, which is now available.  Thx -- DrewAdams


















<pre>

</pre>
----
<pre>

</pre>


[new:Anonymous:2011-10-10 04:29 UTC]
Hi Drew,
I would like to have Icicle Imenu (or variant) insert the Imenu match at point.  The use would be
to insert text (Imenu match) anywhere in the file WITHOUT having point jump to another location copy, jump back then paste.
A more interesting version would cycle sub-matches and allow the user to continue selecting\inserting until the user
ended the command. Is this possible? Thanks Mike






[new:DrewAdams:2011-10-10 13:15 UTC]

IIUC, you want to be able to choose a definition start string (e.g. for a function, variable, etc.) in the buffer, and have that string be inserted at point.  And preferably the command to do this would be a multi-command, so you could use `C-RET' to insert multiple such choices.  Is that right?

If so, there is no command to do that, but you could define one.  What is the use case?  Why would you want to, e.g., insert a string such as ##(defun icicle-color-help## in the buffer?  Or did you mean `icicle-imenu-full' instead of `icicle-imenu', so you would insert the full definition (all of its code)?  I still don't understand why that would be helpful -- why not just move to the definition, select it using `C-M-h', jump back, and insert the region?

Please describe what you want a bit more.  To define such a command, you would keep the "choosing" part of the regular '''Icicles''' Imenu command, then just insert that choice at [[point]] using `insert'.  To make it into a multi-command, you would just use `icicle-define-command' instead of `defun'.  I can be more specific about these things, but I would like to better understand why this would be useful: your use case.  Thx -- DrewAdams






<pre>

</pre>
----
<pre>
</pre>

I am using Icicles with emacs 24.0.50 (a pretty recent built right from the bzr repository) on GNU/Linux x86_64.
So far Icicles is working, but I notices one issue: File name completion in shell work does not work. Entering ./ and pressing TAB does not open the Completions buffer. When icicles is disabled, everything works fine. -- ''tor-exit-router42-readme.formlessnetworking.net''


[new:DrewAdams:2011-09-03 00:12 UTC]
Emacs 24 is not yet released, hence not supported by '''Icicles'''.  I have nevertheless tracked some Emacs 24 changes and updated '''Icicles''' accordingly.  But not very much in this regard.

Here is one workaround, after you download the latest '''Icicles''' files:

  (add-hook 'comint-mode-hook
            (lambda () (setq comint-dynamic-complete-functions
                        '(comint-replace-by-expanded-history
                          comint-dynamic-complete-filename))))

That gives you essentially the Emacs 23 '''Icicles''' completion for this.

If you do not want '''Icicles''' to get involved with such completion, then you can instead customize `icicle-comint-dynamic-complete-replacements' to `nil' and customize `icicle-functions-to-redefine' to remove the comint functions that are there by default. HTH -- DrewAdams









----

|| *Previous:*  IciclesIssues || '''[[Icicles]]''' || IciclesIssuesStale || IciclesIssuesClosed || 


CategoryCompletion
